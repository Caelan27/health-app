<HomeScreen>
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "[b]Health App[/b]"
            font_size: 40
            markup: True
            halign: "center"
            valign: "middle"
        Button:
            text: "Information"
            on_release: app.root.current = "InfoScreen"
        Button:
            text: "Quiz"
            on_release: app.root.current = "QuizScreen"
        Button:
            text: "Game"
            on_release: app.root.current = "GameScreen"


<InfoScreen>
    BoxLayout:
        orientation: "vertical"
        Button:
            text: "Home"
            on_release: app.root.current = "HomeScreen"
            size_hint: 0.2, 0.2

        Label:
            text: "INFO SCREEN"

<QuizScreen>
    BoxLayout:
        orientation: "vertical"
        padding: 10
        spacing: 10
        
        # Header with Home button
        BoxLayout:
            size_hint_y: 0.1
            Button:
                text: "Home"
                on_release: 
                    root.reset_quiz()
                    app.root.current = "HomeScreen"
                size_hint_x: 0.3
            Label:
                text: "[b]Health Quiz[/b]"
                font_size: 30
                markup: True
                size_hint_x: 0.7
        
        # Quiz content or results
        BoxLayout:
            orientation: "vertical"
            padding: 20
            spacing: 15
            
            # Question or Results
            Label:
                id: question_label
                text: root.result_text if root.result_text else root.question_text
                font_size: 24
                markup: True
                halign: "center"
                valign: "top"
                text_size: self.size
                size_hint_y: 0.3
            
            # Answer buttons (hidden when showing results)
            BoxLayout:
                orientation: "vertical"
                spacing: 10
                opacity: 0 if root.result_text else 1
                disabled: True if root.result_text else False
                
                Button:
                    text: "A: " + root.option_a
                    font_size: 18
                    on_release: root.check_answer(0)
                    background_color: 0.2, 0.6, 0.8, 1
                
                Button:
                    text: "B: " + root.option_b
                    font_size: 18
                    on_release: root.check_answer(1)
                    background_color: 0.2, 0.6, 0.8, 1
                
                Button:
                    text: "C: " + root.option_c
                    font_size: 18
                    on_release: root.check_answer(2)
                    background_color: 0.2, 0.6, 0.8, 1
                
                Button:
                    text: "D: " + root.option_d
                    font_size: 18
                    on_release: root.check_answer(3)
                    background_color: 0.2, 0.6, 0.8, 1
            
            # Progress or Restart button
            BoxLayout:
                size_hint_y: 0.2
                spacing: 10
                
                Label:
                    text: f"Question {root.current_question + 1} of {len(root.questions)}" if not root.result_text else ""
                    font_size: 18
                
                Button:
                    text: "Restart Quiz"
                    font_size: 18
                    on_release: root.reset_quiz()
                    opacity: 1 if root.result_text else 0
                    disabled: False if root.result_text else True
                    background_color: 0.2, 0.8, 0.2, 1

<GameScreen>
    BoxLayout:
        orientation: "vertical"
        Button:
            text: "Home"
            on_release: app.root.current = "HomeScreen"
            size_hint: 0.2, 0.2
        Label:
            text: "GAME SCREEN"
